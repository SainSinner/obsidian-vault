Дать права
```sql
GRANT SELECT, INSERT, UPDATE, DELETE, ALTER ON ref.ProdsMinPrices TO "OVP\esbservice";
```

под чьим principal/аккаунтом выполняются сейчас запросы?
```sql
PRINT 'Current User: ' + SUSER_NAME();
-- выполнять запросы под другим пользователем
EXECUTE AS user = 'OVP\esbservice';
```

Раздача прав для технической учетной записи
```python
--#region   SyncDwhDeletionLogUser  
create role SyncDwhDeletionLogUser;  
grant select, insert on syncdwh.DeletionLog to SyncDwhDeletionLogUser;  
grant execute on syncdwh.SaveDeletionMessage to SyncDwhDeletionLogUser;  
  
if not exists(select 1 from sys.database_principals where [name] = 'OVP\Domain Users')  
begin  
    create user [OVP\Domain Users] for login [OVP\Domain Users];  
end;  
  
alter role SyncDwhDeletionLogUser add member [OVP\Domain Users];  
--#endregion  
--#region   SyncDwhOwner  
-- Роль  
if not exists(select 1  
    from sys.database_principals  
    where name = 'SyncDwhOwner'  
      and Type = 'R')  
begin  
    create role SyncDwhOwner;  
end;  
  
-- Права  
alter authorization on schema::syncdwh to SyncDwhOwner;  
grant execute, select, insert on schema::log to SyncDwhOwner;  
grant create table to SyncDwhOwner;  
  
-- Пользователь  
if not exists(select 1  
            from sys.database_principals  
            where [name] = 'OVP\esbservice')  
begin  
    create user [OVP\esbservice] for login [OVP\esbservice];  
end;  
  
alter role SyncDwhOwner add member [OVP\esbservice];  
  
use Administration;  
alter role ExecCmdShellUser add member [OVP\esbservice];  
--#endregion
```