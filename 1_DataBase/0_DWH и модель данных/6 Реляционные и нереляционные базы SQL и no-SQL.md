**Реляционная база данных** (или база данных SQL) хранит данные в табличном формате со строками и столбцами. Столбцы содержат атрибуты данных, а строки – значения данных.
**Нереляционные базы данных** (или базы данных NoSQL) используют различные модели данных для доступа к данным и управления ими. Они оптимизированы для приложений, которые работают с большим объемом данных, нуждаются в низкой задержке и гибких моделях данных.

### Как хранятся данные в нереляционных базах данных?
Существует несколько различных нереляционных систем баз данных в связи с различиями в способах работы и хранения данных без схем. Данные без схемы – это данные, которые хранятся без ограничений, необходимых для реляционных баз данных.
#### Базы данных на основе пар «ключ‑значение»
В базе данных «ключ-значение» данные хранятся в виде набора пар «ключ-значение». В паре ключ служит уникальным идентификатором. Как ключи, так и значения могут представлять собой что угодно: от простых до сложных составных объектов.
![[Pasted image 20250915174556.png]]
#### Базы данных документов
У баз данных документов тот же формат модели документа, который разработчики используют в коде своих приложений. Такие БД хранят данные в виде объектов JSON, которые являются гибкими, полуструктурированными и иерархическими по своей природе.

В следующем примере показано, как могут выглядеть сохраненные данные в базе данных документов.
```JSON
{

  company_name: "AnyCompany",

  address: {street: "1212 Main Street", city: "Anytown"},

  phone_number: "1-800-555-0101",

  industry: ["food processing", "appliances"]

  type: "private",

  number_of_employees: 987

}
```

#### Графовые базы данных

Графовые базы данных предназначены для хранения взаимосвязей и навигации в них. В таких базах данных используются узлы для хранения сущностей информации и ребра для хранения взаимосвязей между этими сущностями.

Ребро всегда имеет начальный и конечный узел, тип и направление. Ребра могут описывать, например, взаимосвязи типа «предок‑потомок», действия и права владения.
![[Pasted image 20250915174733.png]]
### Ключевые отличия: реляционные и нереляционные базы данных

Реляционные и нереляционные базы данных хранят данные и управляют ими совершенно по-разному. В следующих разделах обсуждаются конкретные различия.

#### Структура

Реляционные базы данных хранят данные в табличной форме и следуют строгим правилам, касающимся вариаций данных и связей между таблицами. Они позволяют обрабатывать сложные запросы к структурированным данным, сохраняя целостность и согласованность данных.

Нереляционные базы данных более гибкие и удобные для данных с меняющимися требованиями. Их можно использовать для хранения изображений, видео, документов и другого полуструктурированного и неструктурированного контента.

#### Механизм целостности данных

**Атомарность, непротиворечивость, изолированность, долговечность (ACID)** – это возможности базы данных поддерживать целостность данных, несмотря на ошибки или перерывы в обработке данных.

Реляционные базы данных соответствуют строгим требованиям ACID. Это означает, что набор последующих операций всегда будет выполняться вместе. Если одна операция не удалась, произойдет сбой всего набора операций. Таким образом гарантируется точность данных в любое время.

Напротив, нереляционные базы данных предлагают более гибкую модель базовой доступности, мягкого состояния и, в конечном итоге, согласованности (BASE).

Нереляционные базы данных гарантируют доступность, но не мгновенную согласованность. Состояние базы данных со временем может меняться и в итоге становится постоянным. Некоторые нереляционные базы данных могут предлагать соответствие ACID за счет производительности или других условий.

#### Производительность

Производительность реляционных баз данных зависит от их дисковой подсистемы. Чтобы повысить производительность базы данных, можно использовать твердотельные накопители и оптимизировать диск, настроив его с помощью избыточного массива независимых дисков (RAID). Для достижения максимальной производительности необходимо также оптимизировать индексы, структуры таблиц и запросы.

Напротив, производительность баз данных NoSQL зависит от сетевой задержки, размера аппаратного кластера и вызывающего приложения. Существует несколько способов повысить производительность нереляционной базы данных:

- Увеличение размера кластера 
- Минимизация сетевой задержки
- Индекс и кэш 

Базы данных NoSQL обеспечивают более высокую производительность и масштабируемость для конкретных случаев использования по сравнению с реляционными базами данных.

#### Масштабирование

Жесткая схема реляционной системы баз данных может создавать проблемы при масштабировании. Обычно масштабирование выполняется по вертикали, добавляя к серверу больше ресурсов процессора или оперативной памяти. Можно также масштабировать по горизонтали путем дублирования данных между серверами для рабочих нагрузок, доступных только для чтения. Однако горизонтальное масштабирование рабочих нагрузок чтения и записи требует специальных стратегий, таких как поддержка разделов и сегментирование.
Напротив, базы данных NoSQL обладают высокой масштабируемостью. Их рабочую нагрузку можно легче распределить между несколькими узлами. Эти базы данных могут обрабатывать большие объемы данных, разбивая их на небольшие наборы и распределяя наборы по нескольким узлам.
### Когда использовать реляционные, а когда – нереляционные базы данных
**Реляционные базы данных** – наилучший выбор, если ваши данные предсказуемы с точки зрения размера, структуры и частоты доступа. Вы также можете предпочесть систему управления реляционными базами данных, если взаимосвязи между сущностями важны. Например, если у вас есть большой набор данных со сложной структурой и взаимосвязями, вы хотите, чтобы связи были четко определены для аналитики и простоты использования. 

Напротив, **нереляционная модель** лучше подходит для хранения гибких по форме и размеру данных, которые могут измениться в будущем.

Кроме того, в некоторых случаях взаимосвязи данных просто плохо вписываются в формат табличных первичных и внешних ключей. Например, чтобы смоделировать друзей и отношения в социальной сети, вам понадобится таблица с сотнями строк в реляционной базе данных.

Напротив, в нереляционной базе данных эти взаимосвязи могут быть представлены одной строкой. В следующем примере показаны записи данных участника с четырьмя друзьями в нереляционной базе данных.

| Идентификатор_участника<br><br>Идентификатор_друга<br><br>M1<br><br>M2<br><br>M1<br><br>M3<br><br>M1<br><br>M4<br><br>M1<br><br>M5 | {member name: “member 1”<br><br>member friends: “member 2, member 3, member 4, member 5”} |
| ---------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
#### Краткое описание различий: реляционные и нереляционные базы данных

| Категория          | Реляционная база данных                                                             | Нереляционная база данных                                              |
| ------------------ | ----------------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| Модель данных      | Таблицы.                                                                            | Пара «ключ-значение», документ или график.                             |
| Тип данных         | Структурированные.                                                                  | Структурированные, частично структурированные или неструктурированные. |
| Целостность данных | Высокий уровень при полном соответствии требованиям ACID.                           | Конечная модель непротиворечивости.                                    |
| Производительность | Улучшается за счет добавления дополнительных ресурсов на сервер.                    | Улучшается за счет добавления большего количества серверных узлов.     |
| Масштабирование    | Горизонтальное масштабирование требует дополнительных стратегий управления данными. | Горизонтальное масштабирование является простым.                       |
