#### Конфигурация Airflow (airflow.cfg)

Представляет из себя cfg-файл, с детальной настройкой. Например в нем можно указать родительскую папку для дагов. Это такая папка куда вы будете складывать ваш код, та папка которую сканирует шедулер. Может быть абсолютно любой.

```ini
dags_folder = /root/airflow/dags
```

или изменить стандартный Executor. Напомню что эта опция позволяет масштабировать Airflow, чтобы задачи запускались на нескольких машинах и тд. В данном случае выбран самый простой Executor который запускает все задачи последовательно и только 1 за раз.

```ini
executor = SequentialExecutor
```

указать адрес подключения к БД метаданных, можно заменить на Postgres или любую другую базу данных. База метаданных может быть абсолютно любой. Под капотом там находится ORM которая решает все вопросы совместимости, однако на практике лучше всего себя зарекомендовал Postgres.

```ini
sql_alchemy_conn = sqlite:////root/airflow/airflow.db
```

Для более тонкой настройки существует множество других полей, например:

```makefile
# Количество разом запущенных дагов
max_active_runs_per_dag = 16

# Ключ шифрования для БД метаданных
fernet_key = # создается вручную и вставляется
```

Для создания ключа шифрования можно использовать такую команду:

```python
from cryptography.fernet import Fernet
fernet_key= Fernet.generate_key()
print(fernet_key.decode())
```

Шифрование это необязательный параметр с которым не всегда все работают, однако для больших проектов где важна безопасность эти параметры необходим. Если воспользоваться данным кодом и указать данный параметр, то все метаданные в базе данных будут лежать в зашифрованном виде. И в случае потери ключа их будет невозможно получить обратно.