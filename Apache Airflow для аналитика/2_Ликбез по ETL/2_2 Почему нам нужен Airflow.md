предыдущая [[2_2_CRON расписание задач]]
следующая [[2_2 Extract, Transform, Load]]

**Описание проблем**

На данном этапе мы изучили пример того, как создаются простые ETL-скрипты вручную, и успешно реализовали собственный скрипт. Однако стоит отметить, что в скором времени мы столкнемся с рядом проблем:

1. Неясно на каком этапе возникла ошибка. Отсутствие логов и удобного способа просмотра делает сложным выявление места сбоя.
2. Отсутствует идемпотентности (поговорим про это позднее). Нельзя быть уверенным, что скрипт можно перезапустить несколько раз без риска дублирования данных.
3. Отсутствует механизм оповещения о сбое скрипта. В данный момент мы узнаем о проблеме только тогда, когда не получим ожидаемый отчет.
4. Все этапы выполняются последовательно. Некоторые из них можно было бы выполнить параллельно, что увеличило бы общую производительность.

Для решения таких проблем существуют инструменты, один из них - Airflow. Они обеспечивают решение задач, связанных с ведением логов, отправкой уведомлений при возникновении ошибок, структурированием кода, а также поддержкой масштабирования и параллельной обработки задач. Кроме того, они предоставляют удобный рабочий процесс для обеспечения идемпотентности (подробнее об этом позже).

**Краткий обзор ETL планировщиков**

Для выполнения задач ETL существуют специализированные инструменты, которые обычно можно разделить на две категории: те, которые обеспечивают передачу данных между задачами, и те, которые служат как клиентские приложения для запуска скриптов на удаленной стороне. Airflow является представителем обоих подходов — он может эффективно передавать данные между задачами (с некоторыми ограничениями, о которых мы расскажем позже), а также функционировать как  планировщик задач.

Какие ключевые задачи может решить Airflow:

1. Оповещения для различных сценариев работы
2. Гибкая настройка выполнения задач
3. Сохранение контекста задачи для обеспечения идемпотентности
4. Распределение рабочей нагрузки
5. Удобный доступ к логам

#### Другие **ETL планировщики**

- [Luigi](https://github.com/spotify/luigi) простой в использовании и настройке
- [Dagster](https://dagster.io/) создавался под влиянием Airflow.
- [Prefect](https://www.prefect.io/) весьма интересный проект который набирает обороты

Помимо open-source инструментов существует довольно много коммерческих решений, для разных СУБД. Так для примера MSSQL и ORACLE предлагают свои ETL инструменты внутри своих продуктов.

Также уточню что это не все доступные инструменты. Можете сами посмотреть на список подобных [инструментов](https://github.com/pditommaso/awesome-pipeline)  и выяснить сколько из них ещё активны!

**Полезные ссылки**

- [Видео](https://www.youtube.com/watch?v=db3fDP2V5zU) по внедрение ETL в компании